
import type { Lesson } from '@/types';

// --- Урок C1: Konjunktiv I und II (Углубленное применение: нереальность в прошлом, косвенная речь) ---
export const lessonC1KonjunktivVertiefung: Lesson = {
  id: 'c1-konjunktiv-vertiefung',
  level: 'C1',
  topic: 'Konjunktiv I und II (Углубленное применение: нереальность в прошлом, косвенная речь)',
  theory: `Konjunktiv I и Konjunktiv II являются важными инструментами немецкого языка для выражения косвенной речи, нереальных условий, желаний и вежливых форм. На уровне C1 предполагается более глубокое понимание и гибкое использование этих форм, особенно для выражения событий в прошлом.

**I. Краткое повторение Konjunktiv I**

*   **Образование:** Основа инфинитива + окончания (\`-e, -est, -e, -en, -et, -en\`).
    *   *sein: sei, sei(e)st, sei, seien, sei(e)t, seien*
    *   *haben: habe, habest, habe, haben, habet, haben*
    *   *Modalverben: könne, müsse, dürfe, solle, wolle, möge*
*   **Основное использование:**
    1.  **Косвенная речь (Indirekte Rede):** Для передачи чужих высказываний, когда действие в прямой речи происходит в настоящем или будущем времени.
        *   *Direkt: Er sagt: "Ich **komme** morgen."*
        *   *Indirekt: Er sagt, er **komme** morgen.*
    2.  **Формальные инструкции, рецепты, законы (редко):**
        *   *Man **nehme** drei Eier...* (Возьмите три яйца...)

**II. Краткое повторение Konjunktiv II**

*   **Образование:**
    1.  **Собственные формы** (от основы Präteritum, часто с умлаутом + окончания Konjunktiv):
        *   *sein → wäre*
        *   *haben → hätte*
        *   Сильные глаголы: *kommen (kam) → käme; gehen (ging) → ginge; fahren (fuhr) → führe*
        *   Модальные глаголы: *können → könnte; müssen → müsste; dürfen → dürfte; sollen → sollte; wollen → wollte* (часто заменяется на *möchte* или *würde wollen*).
    2.  **Форма с \`würde\` + Infinitiv:** Используется для большинства глаголов, особенно если собственная форма Konjunktiv II совпадает с Präteritum Indikativ (у слабых глаголов) или звучит устаревшей.
        *   *ich würde lernen, du würdest lernen, er würde lernen...*
*   **Основное использование (для настоящего/будущего):**
    1.  **Нереальные желания/условия в настоящем/будущем:**
        *   *Wenn ich Zeit **hätte**, **würde** ich dich **besuchen**.*
        *   *Ach, **wäre** ich doch reich!*
    2.  **Вежливые просьбы/вопросы:**
        *   ***Könnten** Sie mir helfen?*
        *   *Ich **hätte** gern einen Rat.*

**III. Нереальность в прошлом (Irrealis der Vergangenheit)**

Используется для выражения желаний, условий или предположений, которые относились к прошлому и не осуществились.
*   **Образование:** **Konjunktiv II от \`haben\` или \`sein\` (\`hätte\` или \`wäre\`) + Partizip II** основного глагола.
    Это, по сути, Konjunktiv Plusquamperfekt.
    *   *ich **hätte gemacht** / ich **wäre gegangen***
    *   *du **hättest gemacht** / du **wärest gegangen***
    *   *er/sie/es **hätte gemacht** / er/sie/es **wäre gegangen***
    *   *wir **hätten gemacht** / wir **wären gegangen***
    *   *ihr **hättet gemacht** / ihr **wäret gegangen***
    *   *sie/Sie **hätten gemacht** / sie/Sie **wären gegangen***

*   **Примеры использования:**
    *   **Нереальное желание в прошлом:**
        *   *Wenn ich das nur früher **gewusst hätte**!* (Если бы я только знал это раньше!)
        *   *Ach, **wäre** er doch nur pünktlich **gekommen**!* (Ах, если бы он только пришел вовремя!)
    *   **Нереальное условие в прошлом (в условных предложениях):**
        *   *Wenn du mehr **gelernt hättest**, **hättest** du die Prüfung **bestanden**.* (Если бы ты больше учил, ты бы сдал экзамен.)
        *   *Wir **wären** spazieren **gegangen**, wenn es nicht **geregnet hätte**.* (Мы бы пошли гулять, если бы не шел дождь.)
        В условном предложении, если оно начинается с \`wenn\`, глагол \`hätte/wäre\` в придаточном идет в конец. Если \`wenn\` опускается, то \`hätte/wäre\` ставится на первое место в придаточном (инверсия).
        *   ***Hättest** du mehr gelernt, **hättest** du die Prüfung bestanden.*

**IV. Konjunktiv в косвенной речи для прошедших времен**

Когда прямая речь относится к прошлому (Präteritum, Perfekt, Plusquamperfekt), в косвенной речи используется:
1.  **Konjunktiv Perfekt:** Konjunktiv I от \`haben\`/\`sein\` + Partizip II.
    *   *Direkt: Er sagte: "Ich **habe** das Buch **gelesen**." (Perfekt)*
    *   *Indirekt: Er sagte, er **habe** das Buch **gelesen**.*
    *   *Direkt: Sie erzählte: "Ich **war** gestern im Kino." (Präteritum)*
    *   *Indirekt: Sie erzählte, sie **sei** gestern im Kino **gewesen**.*
2.  Если форма Konjunktiv Perfekt (Konjunktiv I от haben/sein) совпадает с Indikativ Perfekt (что часто бывает для ich, wir, sie/Sie), то для ясности используется **Konjunktiv Plusquamperfekt** (т.е. Konjunktiv II от \`haben\`/\`sein\` + Partizip II).
    *   *Direkt: Wir sagten: "Wir **haben** den Film **gesehen**."* (Indikativ Perfekt: wir haben gesehen)
    *   *Indirekt (Konj. I Perfekt совпадает): Wir sagten, wir **haben** den Film **gesehen**.* (Неясно)
    *   *Indirekt (предпочтительно Konj. II Plusquamperfekt): Wir sagten, wir **hätten** den Film **gesehen**.*

**V. Нюансы и выбор формы**

*   **Konjunktiv I** – это стандарт для объективной передачи чужой речи.
*   **Konjunktiv II** в косвенной речи может использоваться:
    *   Как замена, если Konjunktiv I неясен (совпадает с индикативом).
    *   Если говорящий хочет выразить сомнение в истинности передаваемого высказывания.
*   **\`würde\` + Infinitiv** в косвенной речи используется реже, но возможен как замена, если другие формы Konjunktiv сложны или неоднозначны.

Умение правильно использовать Konjunktiv I и II, особенно для выражения нереальности в прошлом и в сложных случаях косвенной речи, является признаком высокого уровня владения немецким языком.`,
  vocabulary: [
    { german: 'der Konjunktiv I', russian: 'Конъюнктив I (сослагательное наклонение I)' },
    { german: 'der Konjunktiv II', russian: 'Конъюнктив II (сослагательное наклонение II)' },
    { german: 'die Indirekte Rede', russian: 'косвенная речь' },
    { german: 'der Irrealis der Vergangenheit', russian: 'нереальность в прошлом (условие/желание)' },
    { german: 'wäre gewesen', russian: 'был бы (прошедшее нереальное)', example: 'Wenn ich dort gewesen wäre...' },
    { german: 'hätte gehabt', russian: 'имел бы (прошедшее нереальное)', example: 'Wenn er mehr Geld gehabt hätte...' },
    { german: 'hätte gemacht', russian: 'сделал бы (прошедшее нереальное)', example: 'Ich hätte das anders gemacht.' },
    { german: 'wäre gekommen', russian: 'пришел бы (прошедшее нереальное)', example: 'Sie wäre früher gekommen, wenn...' },
    { german: 'der Konditionalsatz (-sätze)', russian: 'условное придаточное предложение' },
    { german: 'die Ersatzregel', russian: 'правило замены (для форм Konjunktiv)' },
    { german: 'die Vermutung (-en)', russian: 'предположение' },
    { german: 'der Wunschsatz (-sätze)', russian: 'предложение, выражающее желание' },
  ],
  exercises: [
    {
      id: 'c1-konj-vert-ex1',
      type: 'multiple_choice',
      question: 'Преобразуйте в нереальное условие в прошлом: "Ich hatte keine Zeit, deshalb konnte ich nicht kommen."',
      options: [
        'Wenn ich Zeit hätte, würde ich kommen.',
        'Wenn ich Zeit gehabt hätte, wäre ich gekommen.',
        'Wenn ich Zeit haben würde, könnte ich kommen.'
      ],
      correctAnswer: 'Wenn ich Zeit gehabt hätte, wäre ich gekommen.',
      explanation: 'Нереальное условие в прошлом: Konj. II от haben/sein + Partizip II. "Wenn ich Zeit gehabt hätte (hätte + gehabt), wäre ich gekommen (wäre + gekommen)."',
    },
    {
      id: 'c1-konj-vert-ex2',
      type: 'fill_in_the_blank',
      question: 'Косвенная речь. Er sagte: "Ich habe das Spiel gewonnen." -> Er sagte, er ___ das Spiel ___ .',
      sentenceParts: ['Er sagte, er ', ' das Spiel ', '.'],
      correctAnswer: 'habe, gewonnen',
      explanation: 'Perfekt в прямой речи переходит в Konjunktiv Perfekt: Konjunktiv I от haben ("habe" для "er") + Partizip II ("gewonnen").',
    },
    {
      id: 'c1-konj-vert-ex3',
      type: 'translation',
      question: 'Переведите на немецкий: "Ах, если бы я тогда купил тот дом!"',
      prompt: 'Ах, если бы я тогда купил тот дом!',
      languageDirection: 'to_german',
      correctAnswer: 'Ach, wenn ich damals jenes Haus gekauft hätte!',
      // Альтернатива: Ach, hätte ich damals jenes Haus doch gekauft!
      explanation: 'Нереальное желание в прошлом: "wenn ... gekauft hätte" (hätte + Partizip II).',
    },
    {
      id: 'c1-konj-vert-ex4',
      type: 'multiple_choice',
      question: 'Прямая речь: Sie fragte: "Wart ihr gestern im Museum?" Косвенная речь (выберите наиболее подходящий вариант):',
      options: [
        'Sie fragte, ob wir gestern im Museum seien.',
        'Sie fragte, ob wir am Vortag im Museum gewesen wären.',
        'Sie fragte, ob wir am Vortag im Museum gewesen seien.'
      ],
      correctAnswer: 'Sie fragte, ob wir am Vortag im Museum gewesen wären.',
      explanation: 'Präteritum в прямой речи. Косвенная речь: "ob" + сдвиг времени/места ("gestern" -> "am Vortag") + Konjunktiv Plusquamperfekt ("wären gewesen"), так как Konj. I Perfekt ("seien gewesen") может звучать неоднозначно для "wir".',
    },
    {
      id: 'c1-konj-vert-ex5',
      type: 'fill_in_the_blank',
      question: 'Завершите нереальное условие в прошлом: Wenn es nicht so stark geschneit ___ , ___ wir Ski gefahren.',
      sentenceParts: ['Wenn es nicht so stark geschneit ', ' , ', ' wir Ski gefahren.'],
      correctAnswer: 'hätte, wären',
      explanation: 'Первая часть: hätte + geschneit. Вторая часть: wären + gefahren (fahren образует Perfekt с sein).',
    },
  ],
};
